<?xml version="1.0" encoding="utf-8"?>
<widget id="mendix.onbeforeunload.OnBeforeUnload" pluginWidget="true" needsEntityContext="true" offlineCapable="true"
        supportedPlatform="Web"
        xmlns="http://www.mendix.com/widget/1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.mendix.com/widget/1.0/ ../node_modules/mendix/custom_widget.xsd">
    <name>On Before Unload</name>
    <description>Dynamically trigger the browser's onBeforeUnload event. Can be used together with the Unsaved Changes Message module to more robustly warn the user of their unsaved changes.</description>
    <helpUrl>https://github.com/bsgriggs/mendix-onBeforeUnload/blob/master/README.md</helpUrl>
    <properties>
        <propertyGroup caption="General">
            <property key="block" type="expression" required="true" >
                <caption>Block Exit?</caption>
                <description>Boolean expression on the parent data view that determines whether or not to show the message. The message text CANNOT be customized as most browsers removed support (https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event). </description>
                <returnType type="Boolean"/>
            </property>
            <property key="debugMode" type="boolean" defaultValue="false">
                <caption>Debug Mode?</caption>
                <description>Show the state of the widget on the page? DISABLE PRIOR TO PRODUCTION DEPLOYMENT</description>
            </property>
            <property key="onChangeBlock" type="action" required="false">
                <caption>On Change Block</caption>
                <description>MxAction fired when the result of the Block Exit expression changes. You can use this action to block Mendix navigation flows (see demo in the ReadMe).</description>
            </property>
            <property key="watchingClassName" type="string" required="true" defaultValue="on-nav-watch">
                <caption>Watching Class Name</caption>
                <description>The CSS class name of any button / navigation item to override when block exit is true</description>
            </property>
            <property key="onDiscard" type="action" required="true">
                <caption>On Discard</caption>
                <description>MxAction fired when the user clicks the discard button on an internal navigation</description>
            </property>
        </propertyGroup>
        <propertyGroup caption="Common">
            <systemProperty key="Name"></systemProperty>
            <systemProperty key="Visibility"></systemProperty>
        </propertyGroup>
    </properties>
</widget>